{
  "name": "foodkasir-backend",
  "version": "1.0.0",
  "description": "Backend API for FoodKasir POS System",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "test": "jest",
    "hash-password": "node scripts/hashPassword.js"
  },
  "keywords": ["pos", "food", "restaurant", "api"],
  "author": "Your Name",
  "license": "MIT",
  "dependencies": {
    "express": "^4.18.2",
    "cors": "^2.8.5",
    "helmet": "^7.1.0",
    "morgan": "^1.10.0",
    "dotenv": "^16.3.1",
    "bcryptjs": "^2.4.3",
    "jsonwebtoken": "^9.0.2",
    "express-validator": "^7.0.1",
    
    "mysql2": "^3.6.5",
    
    "mongoose": "^8.0.3",
    
    "pg": "^8.11.3",
    
    "google-auth-library": "^9.4.1"
  },
  "devDependencies": {
    "nodemon": "^3.0.2",
    "jest": "^29.7.0"
  },
  "engines": {
    "node": ">=18.0.0",
    "npm": ">=9.0.0"
  }
}

// ==========================================
// .env.example - Environment variables template
// Copy this to .env and fill in your values
// ==========================================
/*
# Server Configuration
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:5173

# Database Configuration (MySQL)
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password_here
DB_NAME=foodkasir_db

# Database Configuration (MongoDB)
# MONGODB_URI=mongodb://localhost:27017/foodkasir_db

# Database Configuration (PostgreSQL)
# DB_HOST=localhost
# DB_USER=postgres
# DB_PASSWORD=your_password_here
# DB_NAME=foodkasir_db
# DB_PORT=5432

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_EXPIRES_IN=7d

# Google OAuth (Optional)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth (Optional)
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# Twitter OAuth (Optional)
TWITTER_API_KEY=your-twitter-api-key
TWITTER_API_SECRET=your-twitter-api-secret

# Email Configuration (Optional - for password reset)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# File Upload (Optional)
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads
*/

// ==========================================
// scripts/hashPassword.js - Utility to hash passwords
// ==========================================
/*
const bcrypt = require('bcryptjs');

async function hashPassword(password) {
  const salt = await bcrypt.genSalt(10);
  const hashedPassword = await bcrypt.hash(password, salt);
  console.log('Original Password:', password);
  console.log('Hashed Password:', hashedPassword);
  return hashedPassword;
}

// Get password from command line argument
const password = process.argv[2] || 'admin123';
hashPassword(password);

// Usage: npm run hash-password admin123
*/

// ==========================================
// Installation Instructions
// ==========================================
/*
1. Create backend folder:
   mkdir foodkasir-backend
   cd foodkasir-backend

2. Initialize npm:
   npm init -y

3. Install dependencies:
   npm install express cors helmet morgan dotenv bcryptjs jsonwebtoken express-validator
   
   # Choose ONE database:
   npm install mysql2          # For MySQL
   # OR
   npm install mongoose        # For MongoDB
   # OR
   npm install pg              # For PostgreSQL

4. Install dev dependencies:
   npm install --save-dev nodemon

5. Create folder structure:
   mkdir routes config middleware scripts
   
6. Create files:
   - server.js
   - routes/auth.routes.js
   - config/database.js
   - .env
   - .env.example

7. Setup database:
   - Import users.sql to your MySQL/PostgreSQL database
   - OR setup MongoDB with the schema provided

8. Configure .env file:
   - Copy .env.example to .env
   - Fill in your database credentials
   - Change JWT_SECRET to a strong secret key

9. Run the server:
   npm run dev              # Development with auto-restart
   # OR
   npm start               # Production

10. Test the API:
    curl http://localhost:3001/health
*/

// ==========================================
// API Endpoints Documentation
// ==========================================
/*
BASE_URL: http://localhost:3001/api

1. LOGIN
   POST /auth/login
   Body: {
     "username": "admin",
     "password": "admin123"
   }
   Response: {
     "success": true,
     "message": "Login berhasil",
     "token": "jwt-token-here",
     "user": {
       "id": 1,
       "username": "admin",
       "name": "Administrator",
       "email": "admin@foodkasir.com",
       "role": "admin"
     }
   }

2. SOCIAL LOGIN
   POST /auth/social/:provider
   Params: provider (google|facebook|twitter)
   Body: {
     "token": "oauth-token-from-provider"
   }
   Response: Same as login

3. VERIFY TOKEN
   GET /auth/verify
   Headers: {
     "Authorization": "Bearer jwt-token-here"
   }
   Response: {
     "success": true,
     "user": { user object }
   }

4. LOGOUT
   POST /auth/logout
   Headers: {
     "Authorization": "Bearer jwt-token-here"
   }
   Response: {
     "success": true,
     "message": "Logout berhasil"
   }
*/